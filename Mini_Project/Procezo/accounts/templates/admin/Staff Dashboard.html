{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="author" content="Devika Sunilkumar" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="application-name" content="Procezo Website" />
    <meta name="language" content="English" />
    <title>{% block title %}Staff Dashboard{% endblock %}</title>
    <link rel="icon" type="image/x-icon" href="{% static 'image/procezo-title-logo.png' %}" />
    <link rel="stylesheet" href="{% static 'css/staff/StaffDashboard.css' %}" />
  </head>
  <body>
    <script type="text/javascript">
        function preventBack() {
            window.history.forward();
        }
        setTimeout("preventBack()", 0);
        window.onunload = function () { null };
    </script>    
    <!-- ================= aside ================= -->
    <aside id="home-page">
      <nav class="sidebar">
        <div class="top-section">
          <!-- Logo -->
          <img src="{% static 'image/procezo-logo-white.png' %}" alt="Procezo Logo" class="logo" />

          <!-- Profile Section -->
          <div class="profile-section">
            <div class="profile-left">
              <div class="profile-avatar">
                <img alt="profile" style="width: 60px; height: 60px;" src="{% static 'image/dashboard/' %}{% if staff.gender == 'female' %}female user.png{% else %}male user.png{% endif %}">
              </div>
            </div>

            <div class="profile-right">
              <div class="profile-staff-name">{{ staff.staff_id|default:"Staff ID" }}</div>
              <div class="profile-staff-role">{{ staff.role|default:"Role" }}</div>
              <div class="profile-job-type">{{ staff.job_type|default:"Job Type" }}</div>

              <a href="{% url 'accounts:staff_profile' %}">
                <button class="profile-update-btn">Update</button>
              </a>
            </div>
          </div>
          <ul class="menu">
            <li><a href="{% url 'accounts:staff_attendance' %}"><img src="{% static 'image/dashboard/Attendance.png' %}" alt="Attendance" class="icon" /><span>Attendance</span></a></li>
            <li><a href="#"><img src="{% static 'image/dashboard/work schedule.png' %}" alt="Work Schedule" class="icon" /><span>Work Schedule</span></a></li>
            <li><a href="#"><img src="{% static 'image/dashboard/key logs.png' %}" alt="Key Logs" class="icon" /><span>Key Logs</span></a></li>
            <li><a href="{% url 'accounts:staff_emotion' %}"><img src="{% static 'image/dashboard/Emotion.png' %}" alt="Emotion" class="icon" /><span>Emotion</span></a></li>
            <li><a href="#"><img src="{% static 'image/dashboard/Salary.png' %}" alt="Salary" class="icon" /><span>Salary</span></a></li>
          </ul>
        </div>
    </aside>
    <!-- ================= main CONTENT ================= -->
    <div class="main-content">
      <header class="staff-header">
        <div class="left-box">
          <div class="title-row">
            <h1>Staff Dashboard <span class="role-tag">{{ staff.name|default:"Staff" }}</span></h2>
            <a href="{% url 'accounts:staff_dashboard' %}"><img src="{% static 'image/dashboard/AdminHome.png' %}" alt="search" class="home-icon" /></a>
          </div>         
        </div>
        
        <a href="{% url 'accounts:login_register' %}">
          <button class="logout-btn">
            <div class="sign">
              <svg viewBox="0 0 512 512">
                <path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"/>
              </svg>
            </div>
            <div class="logout-btn-text">Logout</div>
          </button>
        </a>
      </header>
      {% block content %}
      <!-- ====== Stats Grid ====== -->
      <div class="stats-grid">
        <div class="stat-card" id="statCard1">
          <div class="stat-icon" id="statIcon1">‚úÖ</div>
          <div class="stat-value" id="statValue1">12</div>
          <div class="stat-label" id="statLabel1">Tasks Completed</div>
        </div>

        <div class="stat-card" id="statCard2">
          <div class="stat-icon" id="statIcon2">‚è∞</div>
          <div class="stat-value" id="statValue2">5</div>
          <div class="stat-label" id="statLabel2">Pending Tasks</div>
        </div>

        <div class="stat-card" id="statCard3">
          <div class="stat-icon" id="statIcon3">üìÖ</div>
          <div class="stat-value" id="statValue3">8</div>
          <div class="stat-label" id="statLabel3">Meetings Today</div>
        </div>

        <div class="stat-card" id="statCard4">
          <div class="stat-icon" id="statIcon4">üéÇ</div>
          <div class="stat-value" id="statValue4">{{ birthday_this_week_count }}</div>
          <div class="stat-label" id="statLabel4">Birthdays This Week</div>
        </div>
      </div>

      <!-- ====== Content 2 Column Layout ====== -->
      <div class="content-grid">
        <!-- Tasks Card -->
        <div class="content-grid-card" id="tasksCard">
          <div class="card-header">
            <h2 id="tasksTitle">Today's Tasks</h2>
            <button class="view-all" id="viewAllTasks">View All</button>
          </div>

          <div class="task-item" id="task1">
            <div class="task-checkbox" id="checkbox1"></div>
            <div class="task-content">
              <div class="task-title">Review quarterly reports</div>
              <div class="task-time">Due: 2:00 PM</div>
            </div>
          </div>

          <div class="task-item" id="task2">
            <div class="task-checkbox" id="checkbox2"></div>
            <div class="task-content">
              <div class="task-title">Team meeting preparation</div>
              <div class="task-time">Due: 3:30 PM</div>
            </div>
          </div>

          <div class="task-item" id="task3">
            <div class="task-checkbox" id="checkbox3"></div>
            <div class="task-content">
              <div class="task-title">Update project timeline</div>
              <div class="task-time">Due: 5:00 PM</div>
            </div>
          </div>
        </div>

        <!-- Announcements Card -->
        <div class="content-grid-card" id="announcementsCard">
          <div class="card-header">
            <h2 id="announcementsTitle">Announcements</h2>
          </div>

          <div class="announcement-item" id="announcement1">
            <div class="announcement-title">Office Closure</div>
            <div class="announcement-time">2 hours ago</div>
          </div>

          <div class="announcement-item" id="announcement2">
            <div class="announcement-title">New Policy Update</div>
            <div class="announcement-time">Yesterday</div>
          </div>

          <div class="announcement-item" id="announcement3">
            <div class="announcement-title">Team Building Event</div>
            <div class="announcement-time">2 days ago</div>
          </div>
        </div>
      </div>

      <!-- ====== Schedule ====== -->
      <div class="schedule-card">
        <div class="schedule-header">
          <h2>Today's Schedule</h2>
          <a href="https://calendar.google.com" target="_blank" class="view-btn">
            View Calendar
          </a>
        </div>

        <div class="schedule-grid">

          <!-- Item 1 -->
          <div class="schedule-item">
            <div class="schedule-time">9:00 AM</div>
            <div class="schedule-divider"></div>
            <div class="schedule-details">
              <h4>Morning Standup</h4>
              <p>Daily team sync - Conference Room A</p>
              <a href="#" class="meet-link">üìπ Join Google Meet</a>
            </div>
          </div>

          <!-- Item 2 -->
          <div class="schedule-item">
            <div class="schedule-time">11:00 AM</div>
            <div class="schedule-divider"></div>
            <div class="schedule-details">
              <h4>Client Presentation</h4>
              <p>Q1 Results Review - Virtual Meeting</p>
              <a href="#" class="meet-link">üìπ Join Google Meet</a>
            </div>
          </div>

          <!-- Item 3 -->
          <div class="schedule-item">
            <div class="schedule-time">2:00 PM</div>
            <div class="schedule-divider"></div>
            <div class="schedule-details">
              <h4>Project Planning</h4>
              <p>New initiative kickoff - Conference Room B</p>
              <a href="#" class="meet-link">üìπ Join Google Meet</a>
            </div>
          </div>

        </div>
      </div>
    </div>
    <script src="js/StaffDashboard.js"></script>
      {% endblock %}
    </div>       
  </body>
</html>